(this["webpackJsonpaim-schedule"]=this["webpackJsonpaim-schedule"]||[]).push([[0],{52:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(6),r=n.n(c),a=n(40),s=n.n(a),i=(n(52),n(12)),j=n(25),u=n(41),o=n(42),b=n(43);Object(u.a)({apiKey:"AIzaSyDsvguU2Ltg3wVHa1VvtdoPqU5OHN2QXRc",authDomain:"aim-schedule.firebaseapp.com",projectId:"aim-schedule",storageBucket:"aim-schedule.appspot.com",messagingSenderId:"534395806536",appId:"1:534395806536:web:ca9ff73ad3e35cb387497d",measurementId:"G-5FVT31X20F"});var d=Object(o.a)(),O=Object(b.a)(),l=n(30),x=n(14),h=n(46),f=(n(55),n(0)),p=n.n(f),v=n(1),m=n(16),g=n(8),y=function(e){var t=e.userData,r=e.date,a=Object(c.useState)(0),s=Object(i.a)(a,2),j=s[0],u=s[1],o=n(39),b=o(r,"yyyy-mm-dd"),d=o(new Date,"yyyy-mm-dd");return Object(c.useEffect)((function(){var e=Object(m.a)(O,t.uid,b),n=Object(m.a)(O,t.uid,d),c=function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.b)(t);case 3:(n=e.sent).exists()&&u(n.data().workTime),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();c(e);var r=Object(m.e)(n),a=Object(m.d)(r,(function(e){b===d&&c(n)}));return function(){u(0),a()}}),[t.uid,b,d]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h4",{children:[b," Log!"]}),Object(g.jsx)("span",{children:j})]})},w=function(e){var t=e.userData,n=Object(c.useState)(new Date),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a,{value:a,onChange:s,calendarType:"US"}),Object(g.jsx)(y,{userData:t,date:a})]})},k=n(20),D=function(e){var t=e.text,n=e.done,c=e.id;return Object(g.jsxs)("li",{id:c,children:[Object(g.jsx)("span",{id:c,children:t}),Object(g.jsx)("input",{type:"button",id:c,value:n?"undo":"done"}),Object(g.jsx)("input",{type:"button",id:c,value:"del"})]})},S=function(e){var t=e.userData,n=Object(c.useState)(""),r=Object(i.a)(n,2),a=r[0],s=r[1],j=Object(c.useState)([]),u=Object(i.a)(j,2),o=u[0],b=u[1];Object(c.useEffect)((function(){var e=Object(m.a)(O,t.uid,"todo-list");return function(){var t=Object(v.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m.b)(e);case 3:(n=t.sent).exists()?b(n.data().todoList):b([]),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()(),function(){s(""),b([])}}),[t.uid]),Object(c.useEffect)((function(){var e=Object(m.a)(O,t.uid,"todo-list");(function(){var t=Object(v.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m.b)(e);case 3:t.sent.exists()?Object(m.g)(e,{todoList:o}):Object(m.f)(e,{todoList:o}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[t.uid,o]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h3",{children:[t.displayName,"\uc758 To-do List."]}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=(new Date).getTime();b([].concat(Object(k.a)(o),[{text:a,done:!1,createdAt:t,modifiedAt:t}])),s("")},children:[Object(g.jsx)("input",{type:"text",value:a,onChange:function(e){var t=e.target.value;s(t)}}),Object(g.jsx)("input",{type:"submit",value:"add"})]}),Object(g.jsx)("ul",{children:o.map((function(e,t){return Object(g.jsx)("div",{children:Object(g.jsx)(D,{text:e.text,done:e.done,id:t})},t)}))})]})},F=function(e){var t=e.userData,r=n(39)(new Date,"yyyy-mm-dd"),a=Object(c.useState)(0),s=Object(i.a)(a,2),j=s[0],u=s[1],o=Object(c.useState)(!1),b=Object(i.a)(o,2),d=b[0],l=b[1],x=Object(c.useState)(0),h=Object(i.a)(x,2),f=h[0],y=h[1];Object(c.useEffect)((function(){(function(){var e=Object(v.a)(p.a.mark((function e(){var n,c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(m.a)(O,t.uid,r),e.next=4,Object(m.b)(n);case 4:(c=e.sent).exists()&&(a=c.data(),u(a.workTime),l(a.isWorking)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[r,t.uid]),Object(c.useEffect)((function(){(function(){var e=Object(v.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(m.a)(O,t.uid,r),e.next=4,Object(m.b)(n);case 4:e.sent.exists()?Object(m.g)(n,{workTime:j,isWorking:d}):Object(m.f)(n,{workTime:j,isWorking:d}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[r,t.uid,j,d]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("span",{children:["Today's worktime: ",j," "]}),Object(g.jsx)("button",{onClick:function(){d?u(j+(new Date).getTime()-f):y((new Date).getTime()),l(!d)},children:d?"finish":"start"})]})},T=function(e){var t=e.userData;return Object(g.jsxs)("div",{children:[Object(g.jsxs)("h2",{children:["\ud658\uc601\ud569\ub2c8\ub2e4, ",t.displayName,"\ub2d8!"]}),Object(g.jsx)(F,{userData:t}),Object(g.jsx)(S,{userData:t}),Object(g.jsx)(w,{userData:t})]})},L=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{children:"Log in"}),Object(g.jsx)("button",{onClick:function(e){e.preventDefault();var t=new j.a;Object(j.d)(d,t)},children:"Continue with Google"})]})};function E(){return Object(g.jsx)("div",{children:Object(g.jsx)("h2",{children:"Oops! Page Not Found!"})})}var C=function(e){var t=e.userData,n=Object(x.g)();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:"Profile"}),Object(g.jsx)("h2",{children:t.displayName}),Object(g.jsx)("img",{src:t.photoURL,alt:""}),Object(g.jsx)("span",{children:t.email}),Object(g.jsx)("button",{onClick:function(){d.signOut(),n.push("/")},children:"Log Out"})]})},I=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(l.b,{to:"/",children:Object(g.jsx)("h4",{children:"Home"})}),Object(g.jsx)(l.b,{to:"/profile",children:Object(g.jsx)("h4",{children:"Profile"})})]})},U=function(e){var t=e.userData;return Object(g.jsxs)(l.a,{children:[d.currentUser&&Object(g.jsx)(I,{}),Object(g.jsxs)(x.d,{children:[d.currentUser?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.b,{exact:!0,path:"/",children:Object(g.jsx)(T,{userData:t})}),Object(g.jsx)(x.b,{path:"/profile",children:Object(g.jsx)(C,{userData:t})}),Object(g.jsx)(x.a,{path:"/login",to:"/"})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(x.b,{path:"/",children:Object(g.jsx)(L,{})}),Object(g.jsx)(x.a,{path:"*",to:"/"})]}),Object(g.jsx)(x.b,{children:Object(g.jsx)(E,{})})]})]})},N=function(){return Object(g.jsx)("h3",{children:"Loading..."})};var P=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(i.a)(a,2),u=s[0],o=s[1];return Object(c.useEffect)((function(){Object(j.c)(d,(function(e){o(e||null),r(!1)}))}),[]),Object(g.jsx)(g.Fragment,{children:n?Object(g.jsx)(N,{}):Object(g.jsx)(U,{userData:u})})};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(P,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.eb86c602.chunk.js.map